# Servir o build do frontend (PWA) com Nginx na VPS
# Build local: cd frontend && npm run build
# Copiar dist para contexto: cp -r frontend/dist ./dist
# Docker: docker build -f scripts/Dockerfile.frontend -t app-coocafe-frontend .
# Run: docker run -p 80:80 app-coocafe-frontend

FROM nginx:alpine
COPY frontend/dist /usr/share/nginx/html
RUN echo 'server { root /usr/share/nginx/html; index index.html; location / { try_files $uri $uri/ /index.html; } }' > /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
